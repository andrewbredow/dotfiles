- defaults:
    link:
      relink: true

- clean: ['~', '~/.config']

- link:
    ~/.agignore: configs/agignore
    ~/.bin: configs/bin
    ~/.Brewfile: configs/brewfile
    ~/.config/git:
      create: true
      path: configs/git
    ~/.config/iterm2:
      create: true
      path: configs/iterm2
    ~/.config/nvim:
      create: true
      path: configs/nvim
    ~/.config/kitty:
      create: true
      path: configs/kitty
    ~/.config/karabiner:
      create: true
      path: configs/karabiner
    ~/.default-gems: configs/default-gems
    ~/.gemrc: configs/gemrc
    ~/.gitconfig: configs/git/config # Legacy git
    ~/.irbrc: configs/irbrc
    ~/.macos: configs/macos
    ~/.pryrc: configs/pryrc
    ~/.psqlrc: configs/psqlrc
    ~/.rspec: configs/rspec
    ~/.system-setup.sh: configs/system-setup.sh
    ~/.terminfo: configs/terminfo
    ~/.tmux.colors: configs/tmux.colors
    ~/.tmux.conf: configs/tmux.conf
    ~/.tool-versions: configs/tool-versions
    ~/.vim: configs/nvim # Legacy vim
    ~/.vimrc: configs/nvim/init.vim # Legacy vim
    ~/.zplug: configs/zplug
    ~/.zsh: configs/zsh
    ~/.zshrc: configs/zshrc
    ~/Library/Preferences/com.mizage.direct.Divvy.plist:
      force: true
      path: preferences/com.mizage.direct.Divvy.plist
    ~/Library/Preferences/com.pilotmoon.popclip.plist:
      force: true
      path: preferences/com.pilotmoon.popclip.plist
    '~/Library/Application Support/PopClip':
      force: true
      path: preferences/popclip
    ~/Library/Preferences/net.matthewpalmer.Rocket.plist:
      force: true
      path: preferences/net.matthewpalmer.Rocket.plist

- shell:
  - [touch ~/.hushlogin, Hush the last login prompt]
  - [mkdir -p ~/src, Create the local working src filder]

  # Run the system setup
  - [sh ~/.system-setup.sh]

  # Install all of the vim plugs
  - [nvim -u ~/.config/nvim/plugs.vim +PlugInstall +qall, Install Vim plugs]
